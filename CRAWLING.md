# ðŸ•·ï¸ ëŒ€ëŒ€ì†ì† í¬ë¡¤ë§ ê°€ì´ë“œ

## ðŸ“Š ë°ì´í„° ì†ŒìŠ¤

### 1. **eí•˜ëŠ˜ìž¥ì‚¬ì •ë³´** (ê³µê³µë°ì´í„°)
- URL: https://www.15774129.go.kr/portal/esky/main/main.do
- íŠ¹ì§•: ê³µê³µ ìž¥ë¬˜ì‹œì„¤ ì •ë³´ (ê³µì„¤/ì‚¬ì„¤ ëª¨ë‘ í¬í•¨)
- ë°ì´í„°: ê¸°ë³¸ ì •ë³´, íŽ¸ì˜ì‹œì„¤, ê°€ê²© ë“±

### 2. **ì²«ìž¥** (ë¯¼ê°„ í”Œëž«í¼)
- URL: https://apply.cheotjang.com/main
- íŠ¹ì§•: ìƒì„¸í•œ ê°€ê²© ì •ë³´, ì‹œì„¤ ì‚¬ì§„
- ë°ì´í„°: ìƒì„¸ ê°€ê²©í‘œ, ë¦¬ë·°, ì‚¬ì§„ ê°¤ëŸ¬ë¦¬

### 3. **ëª…ë‹¹ê°€** (ë¯¼ê°„ í”Œëž«í¼)
- URL: https://myungdangga.co.kr/
- íŠ¹ì§•: ëª…ë‹¹ ìœ„ì¹˜, í’ìˆ˜ ì •ë³´
- ë°ì´í„°: ìœ„ì¹˜ ì •ë³´, í™˜ê²½ ì •ë³´

---

## ðŸš€ í¬ë¡¤ë§ ì‹¤í–‰

### Step 1: ì‚¬ì´íŠ¸ êµ¬ì¡° íŒŒì•… (ìŠ¤ì¹´ìš°íŒ…)
```bash
npm run scout
```
**ê²°ê³¼:**
- `cheotjang_screenshot.png` - ì²«ìž¥ ìŠ¤í¬ë¦°ìƒ·
- `cheotjang_structure.json` - ì²«ìž¥ HTML êµ¬ì¡°
- `myungdangga_screenshot.png` - ëª…ë‹¹ê°€ ìŠ¤í¬ë¦°ìƒ·
- `myungdangga_structure.json` - ëª…ë‹¹ê°€ HTML êµ¬ì¡°

### Step 2: ì „ì²´ í¬ë¡¤ë§
```bash
npm run crawl:all
```
**ê²°ê³¼:**
- `data/crawled_all.json` - 3ê°œ ì†ŒìŠ¤ í†µí•© ë°ì´í„°

### Step 3: eí•˜ëŠ˜ë§Œ í¬ë¡¤ë§
```bash
npm run crawl:esky
```

---

## ðŸ“ í¬ë¡¤ë§ ê²°ê³¼ êµ¬ì¡°

```json
{
  "esky": [
    {
      "name": "ì‹œì„¤ëª…",
      "address": "ì£¼ì†Œ",
      "phone": "ì „í™”ë²ˆí˜¸",
      "facilities": {
        "parking": true,
        "restaurant": false
      }
    }
  ],
  "cheotjang": [
    {
      "name": "ì‹œì„¤ëª…",
      "priceTable": {
        "ì¼ë°˜ë™ ê°œì¸ë‹¨": {
          "rows": [
            { "name": "6ë‹¨", "price": 1800000 }
          ]
        }
      }
    }
  ],
  "myungdangga": [
    {
      "name": "ì‹œì„¤ëª…",
      "environment": {
        "nature": "ìš°ìˆ˜",
        "view": "ì¢‹ìŒ"
      }
    }
  ]
}
```

---

## ðŸ”„ ë°ì´í„° í†µí•© í”„ë¡œì„¸ìŠ¤

### 1. í¬ë¡¤ë§
```bash
npm run crawl:all
```

### 2. ë°ì´í„° ì •ê·œí™”
```bash
node scripts/normalizeData.js
```
- 3ê°œ ì†ŒìŠ¤ ë°ì´í„°ë¥¼ í†µí•© ìŠ¤í‚¤ë§ˆë¡œ ë³€í™˜
- ì¤‘ë³µ ì œê±°
- ì£¼ì†Œ ê¸°ë°˜ ë§¤ì¹­

### 3. DB ì €ìž¥
```bash
node scripts/saveToDB.js
```
- Prismaë¥¼ í†µí•´ SQLiteì— ì €ìž¥
- facility í…Œì´ë¸”ì— ì €ìž¥

### 4. í™•ì¸
```bash
npm run dev
```
- http://localhost:3000ì—ì„œ í™•ì¸

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **í¬ë¡¬ ë¸Œë¼ìš°ì € í•„ìš”**
   - Puppeteerê°€ ì‹œìŠ¤í…œ í¬ë¡¬ì„ ì‚¬ìš©
   - ê²½ë¡œ: `/Applications/Google Chrome.app/Contents/MacOS/Google Chrome`

2. **í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ**
   - ê¸°ë³¸ì ìœ¼ë¡œ `headless: false` (ë¸Œë¼ìš°ì € ë³´ìž„)
   - ë””ë²„ê¹… í›„ `headless: true`ë¡œ ë³€ê²½ ê°€ëŠ¥

3. **íƒ€ìž„ì•„ì›ƒ**
   - ê° íŽ˜ì´ì§€ ë¡œë”© íƒ€ìž„ì•„ì›ƒ: 30ì´ˆ
   - ë„¤íŠ¸ì›Œí¬ê°€ ëŠë¦¬ë©´ ì¡°ì • í•„ìš”

4. **í¬ë¡¤ë§ ê°„ê²©**
   - ì‚¬ì´íŠ¸ ë¶€í•˜ ë°©ì§€ë¥¼ ìœ„í•´ 2ì´ˆ ëŒ€ê¸°
   - í•„ìš”ì‹œ ì¡°ì • ê°€ëŠ¥

---

## ðŸ› ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### í¬ë¡¤ë§ ì‹¤íŒ¨ ì‹œ
1. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
2. ì‚¬ì´íŠ¸ ì ‘ì† ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
3. ì‚¬ì´íŠ¸ êµ¬ì¡° ë³€ê²½ ì—¬ë¶€ í™•ì¸ (`npm run scout`)

### ë°ì´í„°ê°€ ì—†ì„ ë•Œ
1. ì„ íƒìž(selector) í™•ì¸
2. `structure.json` íŒŒì¼ë¡œ HTML êµ¬ì¡° ìž¬í™•ì¸
3. ìˆ˜ë™ìœ¼ë¡œ íŽ˜ì´ì§€ í™•ì¸ (headless: false)

---

## ðŸ“… ë‹¤ìŒ ë‹¨ê³„

- [ ] ìŠ¤ì¹´ìš°íŒ… ì‹¤í–‰ ë° êµ¬ì¡° ë¶„ì„
- [ ] ì‹¤ì œ í¬ë¡¤ëŸ¬ ì„ íƒìž ì—…ë°ì´íŠ¸
- [ ] ë°ì´í„° ì •ê·œí™” ìŠ¤í¬ë¦½íŠ¸ ìž‘ì„±
- [ ] DB ì €ìž¥ ë¡œì§ êµ¬í˜„
- [ ] ìžë™í™” ìŠ¤ì¼€ì¤„ë§ (cron)

---

## ðŸ’¡ íŒ

**ë¹ ë¥¸ í…ŒìŠ¤íŠ¸:**
```bash
# ìŠ¤ì¹´ìš°íŒ…ë§Œ
npm run scout

# ê²°ê³¼ í™•ì¸
open cheotjang_screenshot.png
open myungdangga_screenshot.png
cat cheotjang_structure.json | jq .
```

**JSON ì •ë ¬:**
```bash
cat data/crawled_all.json | jq . > data/crawled_sorted.json
```
